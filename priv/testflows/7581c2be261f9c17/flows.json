[{"id":"7581c2be261f9c17","type":"tab","label":"[http] set content type","disabled":false,"info":"## Setting content type on http responses\n\nThere are two ways of doing this, either statically using the http response node or dynamically using the change node.\n\nBoth methods are demonstrated by this test.\n\nAs shown by the test, the difference between the two methods is that there either multiple http response nodes or a single http response node is defined but the content type is set before the response is sent.\n\n## Setup\n\nThe test consists of two http endpoints, one defines the <a class=\"ahl-group-only\" data-ids=\"fb2aba112260ee37\">dynamic content type specification</a> and the other the  <a class=\"ahl-group-only\" data-ids=\"d016f026db649ebf\">static content type specification</a>.\n\nEach decides the content type by the filename postfix, i.e. `fubar.txt` is mimetype of `text/plain` because of the `.txt` postfix.\n\nThe <a class=\"ahl-group-only\" data-ids=\"c38be1d5585cf91b\">test for both setups</a> uses http request nodes to access these two http endpoints.\n\n","env":[{"name":"ERED_NOT_EUNIT","value":"true","type":"bool"}]},{"id":"fb2aba112260ee37","type":"group","z":"7581c2be261f9c17","name":"dynamic content type specification","style":{"label":true},"nodes":["403a924531d121df","5df3e909c5f358b1","75e3570d472390f4","bcd95cd0fe9fd797","e05b407247f65bb3","aaade65c96de83f4","30b4d835922b7c40","e474e852ba8122cd","511bb4bb8f5d2767","5d7ca097b0e2243d"],"x":5,"y":75.5,"w":1048.5,"h":540.75},{"id":"d016f026db649ebf","type":"group","z":"7581c2be261f9c17","name":"static content type specification","style":{"label":true},"nodes":["789f3913d1a0d70a","9a5dca7c0286ab37","b87eb0c8a39b5e2c","e6a98ac9117b4295","769ee0887afdc311","6144de9348da6088","a63d45a44e02a381","3cb45a5a75c65f92","0e5505bc5449f96a"],"x":17.5,"y":755,"w":1156,"h":513},{"id":"c38be1d5585cf91b","type":"group","z":"7581c2be261f9c17","name":"test for both setups","style":{"label":true},"nodes":["35064f400d2674c0","0d4aabf984f40260","779cdcbb70d502ea","2aa1b47ecaeb45e4","112fb6224b3a89e8","70abae4c0388eb38","8f87165a19fd36a3","83f113bc49ae548b","ddd2f0bc3a49b172","9869c4c39cb5d546","196d3dee5e339712","d25d3cec964d8bd9","e436983857593288","c0899fd14f36a801","63d1f7024de8a0f9","42ef6e626a3b9634","7b30a20a4e30521b","89550a5d79fa97f7","03f16fbca4f8e203","7171ba16fc94ec3f","bb8a0e1cd7499e07","d883bc0fc21dd406","bbc6fb268ae3add2","3dca2f328fa8bbf6","1e64c8b5c8afd3f1","1612220b693b3623","5358a49e246b28dc","12fc11e704766c21","659aef8a563c83b4","025fef00c72246a4","cc029ad9a824a039","99e5759868786be0","0f0561ef36ab47c6","f3326f17718c243e","f35044ae005ed78a","65481d7412414fd2","fc703ee644f70191","3204886ed4d44cc3","fad7dbf628b57cd7","e355a4888f54bf43","4120112c54db6c19","3e8f65df82942021","51cb5c842e286304","0ae331a5fa7bac37","1aa21f80c61c3456","53ac042f0b020805","d4114e1573ad09ea","220d534ef681fc5b","e3409b52fea4eebb","7b5b300f77dfe907"],"x":1452.000244140625,"y":94.5,"w":1043.999755859375,"h":1175},{"id":"403a924531d121df","type":"http in","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"","url":"/7581c2be261f9c17/content/type/dynamic/:path","method":"get","upload":false,"swaggerDoc":"","x":231,"y":116.5,"wires":[["bcd95cd0fe9fd797"]]},{"id":"5df3e909c5f358b1","type":"http response","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"","statusCode":"","headers":{},"x":977.5,"y":575.25,"wires":[]},{"id":"75e3570d472390f4","type":"switch","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"","property":"req.params.path","propertyType":"msg","rules":[{"t":"regex","v":"(.text|.txt)$","vt":"str","case":true},{"t":"regex","v":".csv$","vt":"str","case":true},{"t":"regex","v":".xml$","vt":"str","case":true},{"t":"regex","v":"(.yml|.yaml)$","vt":"str","case":true},{"t":"regex","v":".json$","vt":"str","case":true},{"t":"else"}],"checkall":"false","repair":false,"outputs":6,"x":360,"y":408.5,"wires":[["e05b407247f65bb3"],["aaade65c96de83f4"],["30b4d835922b7c40"],["5d7ca097b0e2243d"],["511bb4bb8f5d2767"],["e474e852ba8122cd"]]},{"id":"bcd95cd0fe9fd797","type":"template","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"payload content","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"hello world, the content is always the same, the content changes.","output":"str","x":227,"y":256,"wires":[["75e3570d472390f4"]]},{"id":"35064f400d2674c0","type":"inject","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"start dynamic test - set baseurl","props":[{"p":"baseurl","v":"http://localhost:8080/7581c2be261f9c17/content/type/dynamic/","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":1628.000244140625,"y":135.5,"wires":[["8f87165a19fd36a3","83f113bc49ae548b","ddd2f0bc3a49b172","9869c4c39cb5d546","d25d3cec964d8bd9","e436983857593288","bbc6fb268ae3add2","7171ba16fc94ec3f"]]},{"id":"0d4aabf984f40260","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/plain","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/plain","tot":"str"}],"x":2307.000244140625,"y":263.92857142857133,"wires":[[]]},{"id":"779cdcbb70d502ea","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/yaml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/yaml","tot":"str"}],"x":2327.000244140625,"y":328.142857142857,"wires":[[]]},{"id":"2aa1b47ecaeb45e4","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/yaml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/yaml","tot":"str"}],"x":2327.000244140625,"y":392.35714285714266,"wires":[[]]},{"id":"112fb6224b3a89e8","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":135.5,"wires":[["70abae4c0388eb38"]]},{"id":"70abae4c0388eb38","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/octet-stream","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/octet-stream","tot":"str"}],"x":2357.000244140625,"y":135.5,"wires":[[]]},{"id":"8f87165a19fd36a3","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"unknown","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.unknown\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1903.000244140625,"y":135.5,"wires":[["112fb6224b3a89e8"]]},{"id":"83f113bc49ae548b","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".text","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.text\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":264.2142857142858,"wires":[["63d1f7024de8a0f9"]]},{"id":"ddd2f0bc3a49b172","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".yml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.yml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":328.57142857142867,"wires":[["42ef6e626a3b9634"]]},{"id":"9869c4c39cb5d546","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".yaml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.yaml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":392.92857142857156,"wires":[["7b30a20a4e30521b"]]},{"id":"e05b407247f65bb3","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"text/plain","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"text/plain","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":666,"y":289,"wires":[["5df3e909c5f358b1"]]},{"id":"aaade65c96de83f4","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"text/csv","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"text/csv","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":666,"y":345.8,"wires":[["5df3e909c5f358b1"]]},{"id":"30b4d835922b7c40","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"application/xml","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"application/xml","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":686,"y":402.6,"wires":[["5df3e909c5f358b1"]]},{"id":"e474e852ba8122cd","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"application/octet-stream","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"application/octet-stream","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":716,"y":573,"wires":[["5df3e909c5f358b1"]]},{"id":"511bb4bb8f5d2767","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"application/json","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"application/json","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":686,"y":516.2,"wires":[["5df3e909c5f358b1"]]},{"id":"5d7ca097b0e2243d","type":"change","z":"7581c2be261f9c17","g":"fb2aba112260ee37","name":"application/yaml","rules":[{"t":"set","p":"headers[\"content-type\"]","pt":"msg","to":"application/yaml","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":686,"y":459.40000000000003,"wires":[["5df3e909c5f358b1"]]},{"id":"196d3dee5e339712","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/xml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/xml","tot":"str"}],"x":2327.000244140625,"y":456.57142857142844,"wires":[[]]},{"id":"d25d3cec964d8bd9","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".xml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.xml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":457.28571428571445,"wires":[["89550a5d79fa97f7"]]},{"id":"e436983857593288","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".csv","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.csv\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":521.6428571428573,"wires":[["03f16fbca4f8e203"]]},{"id":"c0899fd14f36a801","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/csv","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/csv","tot":"str"}],"x":2307.000244140625,"y":520.7857142857142,"wires":[[]]},{"id":"63d1f7024de8a0f9","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":263.92857142857133,"wires":[["0d4aabf984f40260"]]},{"id":"42ef6e626a3b9634","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":328.142857142857,"wires":[["779cdcbb70d502ea"]]},{"id":"7b30a20a4e30521b","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":392.35714285714266,"wires":[["2aa1b47ecaeb45e4"]]},{"id":"89550a5d79fa97f7","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":456.57142857142844,"wires":[["196d3dee5e339712"]]},{"id":"03f16fbca4f8e203","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":520.7857142857142,"wires":[["c0899fd14f36a801"]]},{"id":"7171ba16fc94ec3f","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".json","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.json\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":585,"wires":[["bb8a0e1cd7499e07"]]},{"id":"bb8a0e1cd7499e07","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":585,"wires":[["d883bc0fc21dd406"]]},{"id":"d883bc0fc21dd406","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/json","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/json","tot":"str"}],"x":2327.000244140625,"y":585,"wires":[[]]},{"id":"bbc6fb268ae3add2","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".txt","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.txt\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1893.000244140625,"y":199.8571428571429,"wires":[["1e64c8b5c8afd3f1"]]},{"id":"3dca2f328fa8bbf6","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/plain","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/plain","tot":"str"}],"x":2307.000244140625,"y":199.71428571428567,"wires":[[]]},{"id":"1e64c8b5c8afd3f1","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2094.500244140625,"y":199.71428571428567,"wires":[["3dca2f328fa8bbf6"]]},{"id":"789f3913d1a0d70a","type":"http in","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"","url":"/7581c2be261f9c17/content/type/static/:path","method":"get","upload":false,"swaggerDoc":"","x":233.5,"y":796,"wires":[["b87eb0c8a39b5e2c"]]},{"id":"9a5dca7c0286ab37","type":"switch","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"","property":"req.params.path","propertyType":"msg","rules":[{"t":"regex","v":"(.text|.txt)$","vt":"str","case":true},{"t":"regex","v":".csv$","vt":"str","case":true},{"t":"regex","v":".xml$","vt":"str","case":true},{"t":"regex","v":"(.yml|.yaml)$","vt":"str","case":true},{"t":"regex","v":".json$","vt":"str","case":true},{"t":"else"}],"checkall":"false","repair":false,"outputs":6,"x":458.5,"y":1092,"wires":[["e6a98ac9117b4295"],["769ee0887afdc311"],["6144de9348da6088"],["a63d45a44e02a381"],["3cb45a5a75c65f92"],["0e5505bc5449f96a"]]},{"id":"b87eb0c8a39b5e2c","type":"template","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"payload content","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"hello world, the content is always the same, the content changes.","output":"str","x":326.5,"y":940.5,"wires":[["9a5dca7c0286ab37"]]},{"id":"e6a98ac9117b4295","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"text/plain","statusCode":"","headers":{"content-type":"text/plain"},"x":987.5,"y":947,"wires":[]},{"id":"769ee0887afdc311","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"text/csv","statusCode":"","headers":{"content-type":"text/csv"},"x":987.5,"y":1003,"wires":[]},{"id":"6144de9348da6088","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"application/xml","statusCode":"","headers":{"content-type":"application/xml"},"x":1007.5,"y":1059,"wires":[]},{"id":"a63d45a44e02a381","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"application/yaml","statusCode":"","headers":{"content-type":"application/yaml"},"x":1007.5,"y":1115,"wires":[]},{"id":"3cb45a5a75c65f92","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"application/json","statusCode":"","headers":{"content-type":"application/json"},"x":1007.5,"y":1171,"wires":[]},{"id":"0e5505bc5449f96a","type":"http response","z":"7581c2be261f9c17","g":"d016f026db649ebf","name":"application/octet-stream","statusCode":"","headers":{"content-type":"application/octet-stream"},"x":1037.5,"y":1227,"wires":[]},{"id":"1612220b693b3623","type":"inject","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"start static test - set baseurl","props":[{"p":"baseurl","v":"http://localhost:8080/7581c2be261f9c17/content/type/static/","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":1621,"y":779,"wires":[["99e5759868786be0","0f0561ef36ab47c6","f3326f17718c243e","f35044ae005ed78a","fc703ee644f70191","3204886ed4d44cc3","220d534ef681fc5b","1aa21f80c61c3456"]]},{"id":"5358a49e246b28dc","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/plain","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/plain","tot":"str"}],"x":2310,"y":907.4285714285716,"wires":[[]]},{"id":"12fc11e704766c21","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/yaml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/yaml","tot":"str"}],"x":2330,"y":971.6428571428569,"wires":[[]]},{"id":"659aef8a563c83b4","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/yaml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/yaml","tot":"str"}],"x":2330,"y":1035.8571428571427,"wires":[[]]},{"id":"025fef00c72246a4","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":779,"wires":[["cc029ad9a824a039"]]},{"id":"cc029ad9a824a039","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/octet-stream","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/octet-stream","tot":"str"}],"x":2360,"y":779,"wires":[[]]},{"id":"99e5759868786be0","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"unknown","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.unknown\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1906,"y":779,"wires":[["025fef00c72246a4"]]},{"id":"0f0561ef36ab47c6","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".text","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.text\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":907.7142857142858,"wires":[["e355a4888f54bf43"]]},{"id":"f3326f17718c243e","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".yml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.yml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":972.0714285714284,"wires":[["4120112c54db6c19"]]},{"id":"f35044ae005ed78a","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".yaml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.yaml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":1036.4285714285716,"wires":[["3e8f65df82942021"]]},{"id":"65481d7412414fd2","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/xml","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/xml","tot":"str"}],"x":2330,"y":1100.0714285714284,"wires":[[]]},{"id":"fc703ee644f70191","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".xml","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.xml\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":1100.7857142857147,"wires":[["51cb5c842e286304"]]},{"id":"3204886ed4d44cc3","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".csv","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.csv\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":1165.1428571428573,"wires":[["0ae331a5fa7bac37"]]},{"id":"fad7dbf628b57cd7","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/csv","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/csv","tot":"str"}],"x":2310,"y":1164.2857142857142,"wires":[[]]},{"id":"e355a4888f54bf43","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":907.4285714285716,"wires":[["5358a49e246b28dc"]]},{"id":"4120112c54db6c19","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":971.6428571428569,"wires":[["12fc11e704766c21"]]},{"id":"3e8f65df82942021","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":1035.8571428571427,"wires":[["659aef8a563c83b4"]]},{"id":"51cb5c842e286304","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":1100.0714285714284,"wires":[["65481d7412414fd2"]]},{"id":"0ae331a5fa7bac37","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":1164.2857142857142,"wires":[["fad7dbf628b57cd7"]]},{"id":"1aa21f80c61c3456","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".json","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.json\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":1228.5,"wires":[["53ac042f0b020805"]]},{"id":"53ac042f0b020805","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":1228.5,"wires":[["d4114e1573ad09ea"]]},{"id":"d4114e1573ad09ea","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"application/json","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"application/json","tot":"str"}],"x":2330,"y":1228.5,"wires":[[]]},{"id":"220d534ef681fc5b","type":"change","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":".txt","rules":[{"t":"set","p":"url","pt":"msg","to":"$$.baseurl & \"fubar.txt\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1896,"y":843.3571428571431,"wires":[["7b5b300f77dfe907"]]},{"id":"e3409b52fea4eebb","type":"ut-assert-values","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"text/plain","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"headers[\"content-type\"]","pt":"msg","to":"text/plain","tot":"str"}],"x":2310,"y":843.2142857142858,"wires":[[]]},{"id":"7b5b300f77dfe907","type":"http request","z":"7581c2be261f9c17","g":"c38be1d5585cf91b","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","insecureHTTPParser":false,"authType":"","senderr":false,"headers":[],"x":2097.5,"y":843.2142857142858,"wires":[["e3409b52fea4eebb"]]}]